<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Material Model · High Speed Sintering Simulations</title><meta name="title" content="Material Model · High Speed Sintering Simulations"/><meta property="og:title" content="Material Model · High Speed Sintering Simulations"/><meta property="twitter:title" content="Material Model · High Speed Sintering Simulations"/><meta name="description" content="Documentation for High Speed Sintering Simulations."/><meta property="og:description" content="Documentation for High Speed Sintering Simulations."/><meta property="twitter:description" content="Documentation for High Speed Sintering Simulations."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">High Speed Sintering Simulations</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Modelling of HSS (and related technologies)</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/intro/">Tutorial Introduction</a></li><li><a class="tocitem" href="../../tutorials/1_full_tut/">Tutorial 1: Full Build</a></li><li><a class="tocitem" href="../../tutorials/2_basic_tut/">Tutorial 2: Warm-up and Cool-down only</a></li><li><a class="tocitem" href="../../tutorials/3_material_tut/">Tutorial 3: A Melt Rate Based Material Model</a></li><li><a class="tocitem" href="../../tutorials/4_res_tut/">Tutorial 4: Saving More Results</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../api/">Main API</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox" checked/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Modules</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../adv_intro/">Advanced API Introduction</a></li><li><a class="tocitem" href="../types/">Types</a></li><li><a class="tocitem" href="../res/">Simulation Results</a></li><li class="is-active"><a class="tocitem" href>Material Model</a><ul class="internal"><li><a class="tocitem" href="#PA2200"><span>PA2200</span></a></li><li><a class="tocitem" href="#New-Materials-Using-the-Default-Model"><span>New Materials Using the Default Model</span></a></li><li><a class="tocitem" href="#Modifying-the-Current-Material-Model"><span>Modifying the Current Material Model</span></a></li><li><a class="tocitem" href="#Making-a-New-Material-Model"><span>Making a New Material Model</span></a></li></ul></li><li><a class="tocitem" href="../boundary/">Boundary Model</a></li><li><a class="tocitem" href="../solver/">Solver</a></li><li><a class="tocitem" href="../hssbound/">HSS Boundary</a></li><li><a class="tocitem" href="../postprocessing/">Post Processing</a></li></ul></li></ul></li><li><span class="tocitem">Recipes</span><ul><li><a class="tocitem" href="../../howtos/howto_intro/">Recipes Introduction</a></li><li><a class="tocitem" href="../../howtos/howto_ink/">Ink Pattern Recipes</a></li><li><a class="tocitem" href="../../howtos/howto_subsets/">Simulating Subsets of a Build</a></li><li><a class="tocitem" href="../../howtos/howto_mat/">Material Recipes</a></li><li><a class="tocitem" href="../../howtos/howto_matprop/">Material Model Recipes</a></li><li><a class="tocitem" href="../../howtos/howto_result/">Result Type Recipes</a></li><li><a class="tocitem" href="../../howtos/howto_load/">Load Recipes</a></li><li><a class="tocitem" href="../../howtos/howto_bound/">Boundary Recipes</a></li><li><a class="tocitem" href="../../howtos/howto_param/">Problem Parameters Recipes</a></li><li><a class="tocitem" href="../../howtos/howto_loadset/">Load Set Type Recipes</a></li><li><a class="tocitem" href="../../howtos/howto_problem/">Problem Solver Recipes</a></li></ul></li><li><a class="tocitem" href="../../explanation/faqs/">FAQs</a></li><li><a class="tocitem" href="../../doc_index/">Function Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Reference</a></li><li><a class="is-disabled">Modules</a></li><li class="is-active"><a href>Material Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Material Model</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Oliver-Leete/HSSSimulations.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/main/docs/src/reference/material.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Material-Model"><a class="docs-heading-anchor" href="#Material-Model">Material Model</a><a id="Material-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Material-Model" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material" href="#HSSSimulations.Material"><code>HSSSimulations.Material</code></a> — <span class="docstring-category">Module</span></header><section><div><p>Contains a concrete material property type, the functions for running the material model, and an example material using this model and data collected from measuring PA2200.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/HSSSimulations.jl#L65-L68">source</a></section></article><h2 id="PA2200"><a class="docs-heading-anchor" href="#PA2200">PA2200</a><a id="PA2200-1"></a><a class="docs-heading-anchor-permalink" href="#PA2200" title="Permalink"></a></h2><p>Provided is an example material property structs based on EOS&#39;s PA2200 powder. Calling it with no arguments will return the relevant <a href="#HSSSimulations.Material.MatProp"><code>MatProp</code></a> struct.</p><p>The sources of the data used are summarized below. For more details, check the material model chapter of my thesis.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.PA_κ" href="#HSSSimulations.Material.PA_κ"><code>HSSSimulations.Material.PA_κ</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Values from Yaun 2014 used for consolidation state of 0 and 1 (at a melt state of 0). And values from Riedlbaur 2015 (I think originally from Rietzel 2011, but my German isn&#39;t good enough to confirm) used for a melt state of 1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/PA2200.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.PA_ρ" href="#HSSSimulations.Material.PA_ρ"><code>HSSSimulations.Material.PA_ρ</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Assumes density is constant across temperatures and at data sheet values for maximum consolidation state. For consolidation and melt state zero, the measured value of the powder in the machine is used. The melted density is based on observations while taking dilatometry measurments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/PA2200.jl#L23-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.PA_c" href="#HSSSimulations.Material.PA_c"><code>HSSSimulations.Material.PA_c</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Data taken from stepscan of PA2200, processed by perkin-elmer dsc software. Melt region is interpolated over to avoide issuse with .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/PA2200.jl#L38-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.PA_Mᵣ" href="#HSSSimulations.Material.PA_Mᵣ"><code>HSSSimulations.Material.PA_Mᵣ</code></a> — <span class="docstring-category">Function</span></header><section><div><p>A normalized cumulative integral of the energy in to a system during melting from a DSC curves.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/PA2200.jl#L48-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.PA_Rᵣ" href="#HSSSimulations.Material.PA_Rᵣ"><code>HSSSimulations.Material.PA_Rᵣ</code></a> — <span class="docstring-category">Function</span></header><section><div><p>A normalized cumulative integral of the energy out of a system during recrystallization from DSC curves. With each curve taken from increasing melt states.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/PA2200.jl#L68-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.PA_Hf" href="#HSSSimulations.Material.PA_Hf"><code>HSSSimulations.Material.PA_Hf</code></a> — <span class="docstring-category">Function</span></header><section><div><p>The difference between the energy in to the system during melting (from a DSC curve), and an interpolated line drawn between the sections of heating outside of the melt region.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/PA2200.jl#L60-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.PA_Hr" href="#HSSSimulations.Material.PA_Hr"><code>HSSSimulations.Material.PA_Hr</code></a> — <span class="docstring-category">Function</span></header><section><div><p>The difference between the energy out of the system during crystallization (from a DSC curve), and an interpolated line drawn between the sections of cooling outside of the recrystallization region.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/PA2200.jl#L83-L86">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.PA_Ċ" href="#HSSSimulations.Material.PA_Ċ"><code>HSSSimulations.Material.PA_Ċ</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Based on model from Childs and Tontowi 2001. Modified to work off of consolidation and melt states. Calibrated from dilatometry data. See <a href="#HSSSimulations.Material.PA_Ċ_maker"><code>Material.PA_Ċ_maker</code></a> for how to make your own.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/PA2200.jl#L109-L113">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.PA_eₚ" href="#HSSSimulations.Material.PA_eₚ"><code>HSSSimulations.Material.PA_eₚ</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Taken from near ir experiments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/PA2200.jl#L116-L118">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.PA_eᵢ" href="#HSSSimulations.Material.PA_eᵢ"><code>HSSSimulations.Material.PA_eᵢ</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Taken from near ir experiments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/PA2200.jl#L120-L122">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.PA_ε" href="#HSSSimulations.Material.PA_ε"><code>HSSSimulations.Material.PA_ε</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Taken from pyrometer calibrations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/PA2200.jl#L125-L127">source</a></section></article><h2 id="New-Materials-Using-the-Default-Model"><a class="docs-heading-anchor" href="#New-Materials-Using-the-Default-Model">New Materials Using the Default Model</a><a id="New-Materials-Using-the-Default-Model-1"></a><a class="docs-heading-anchor-permalink" href="#New-Materials-Using-the-Default-Model" title="Permalink"></a></h2><p>The default material model behaviour can be used to simulate similar materials by simply changing the contents of the <a href="#HSSSimulations.Material.MatProp"><code>MatProp</code></a> struct. The <a href="#PA2200">PA2200</a> section should provide some ideas on how to measure these values.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.MatProp" href="#HSSSimulations.Material.MatProp"><code>HSSSimulations.Material.MatProp</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct MatProp{T1, T2, T3, T4, T5, T6, T7, T8, T9} &lt;: AbstractMatProp</code></pre><p>The default implementation of <a href="#HSSSimulations.Types.AbstractMatProp"><code>AbstractMatProp</code></a> used by the default <a href="#HSSSimulations.Material.calcMatProps!"><code>Material.calcMatProps!</code></a> method. See <a href="#PA2200">PA2200</a> for an exmaple of a premade materials. The arguments to its constructor are the same as the matching fields. The only addition is the geometry argument, which should just be the <a href="../types/#HSSSimulations.Types.Geometry"><code>Geometry</code></a> struct of for the simulation.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>The maximum melt state is never reset, so if a node goes from the melt region to the recrystalisation region more than once in a simulation, the behaviour might not be modeled properly.</p></div></div><p><strong>Fields</strong></p><ul><li><code>ρ::Any</code>:  Density.    Two dimensional interpolations, with inputs in axis 1 = consolidation state, axis 2 = melt state.</li><li><code>c::Any</code>:  Specific heat capacity.    One dimensional interpolations with the node&#39;s temperature as it&#39;s input.</li><li><code>κ::Any</code>:  Thermal conductivity.    Three dimensional interpolations, with inputs in axis 1 = consolidation state, axis 2 = temperature and axis 3    = melt state.</li><li><code>Mᵣ::Any</code>:  Melting range and temp relationship.    A 1d interpolation, with the only input axis being the temperature and the output is the melt state.</li><li><code>Mₛ::Float64</code>: The start temperature of the melt range</li><li><code>Mₑ::Float64</code>: The end temperature of the melt range</li><li><code>Rᵣ::Any</code>:  Crystallisation range and temp relationship.    A 2d interpolation, with the first input axis being the node temperature and the second input axis    being the maximum melt state reached. The output is the melt state.</li><li><code>Rₛ::Float64</code>: The start temperature of the recrystalisation range</li><li><code>Rₑ::Float64</code>: The end temperature of the recrystalisation range</li><li><code>Hf::Any</code>: Total specific heat of melting</li><li><code>Hr::Any</code>:  Total specific heat of fusion.    A 1d Interpolation where the input is the maximum melt state reached and the output is the total    heat of fusion.</li><li><code>Ċ::Any</code>:  Consolidation rate.    Either a single value representing a constant consolidation rate, or a 2d interpolation, with the    first axis being the node temperature and the second being the node melt state. The output is the    rate of change of sinter state.</li><li><code>eₚ::Float64</code>:  Emmisivity of the powder.    This is the emmisivity relative to the lamp. So the emmisivity over the range of the wavelengths    that the lamp outputs, scaled by the relative output power of the lamp at those wavelengths.</li><li><code>eᵢ::Float64</code>:  Emmisivity of the powder with ink on it.    This is the emmisivity relative to the lamp. So the emmisivity over the range of the wavelengths    that the lamp outputs, scaled by the relative output power of the lamp at those wavelengths.</li><li><code>ε::Float64</code>:  Black body emmisivity of the powder</li><li><code>name::String</code>: Just used for future reference</li><li><code>Mₘ::Any</code>: Used by the material model to track the maximum melt state reached per node</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/materialProps.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.MatProp-NTuple{13, Any}" href="#HSSSimulations.Material.MatProp-NTuple{13, Any}"><code>HSSSimulations.Material.MatProp</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">MatProp(
    ρ,
    c,
    κ,
    Mᵣ,
    Rᵣ,
    Hf,
    Hr,
    Ċ,
    eₚ,
    eᵢ,
    ε,
    name,
    geometry
) -&gt; MatProp
</code></pre><p>Default constructor for <a href="#HSSSimulations.Material.MatProp"><code>MatProp</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/materialProps.jl#L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.PA_Ċ_maker" href="#HSSSimulations.Material.PA_Ċ_maker"><code>HSSSimulations.Material.PA_Ċ_maker</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Based on model from Childs and Tontowi 2001. Modified to work off of consolidation and melt states . Takes three coefficients (<span>$βₛ, Aₛ, nₛ$</span>) and returns a consolidation rate calculator that  . follows the equation below                                                                         .</p><p><span>$\dot{C} = (1-C^{t-1}) A_s \exp{\left(-\frac{E_s}{RT^{t-1}} - \beta_s (1-M^{t-1})^{n_s}\right)}$</span></p><p>Where <span>$C^{t-1}$</span> is the previous consolidation state, <span>$M^{t-1}$</span> is the previous melt state, and <span>$T^{t-1}$</span> is the previous temperature.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/PA2200.jl#L95-L106">source</a></section></article><h2 id="Modifying-the-Current-Material-Model"><a class="docs-heading-anchor" href="#Modifying-the-Current-Material-Model">Modifying the Current Material Model</a><a id="Modifying-the-Current-Material-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Modifying-the-Current-Material-Model" title="Permalink"></a></h2><p>The melt state updater and consolidation state updater of the default material model can be modified separately from the <a href="#HSSSimulations.Material.calcMatProps!"><code>Material.calcMatProps!</code></a> function itself. The default methods are shown below. An example of this can be seen in <a href="../../tutorials/3_material_tut/#Tutorial-3:-A-Melt-Rate-Based-Material-Model">Tutorial 3: A Melt Rate Based Material Model</a>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.calcMatProps!-Union{Tuple{B}, Tuple{OR}, Tuple{R}, Tuple{Mp}, Tuple{Gh}, Tuple{T}, Tuple{AbstractResult, AbstractResult, Problem{T, Gh, Mp, R, OR, B}, Any}} where {T, Gh, Mp&lt;:AbstractMatProp, R, OR, B}" href="#HSSSimulations.Material.calcMatProps!-Union{Tuple{B}, Tuple{OR}, Tuple{R}, Tuple{Mp}, Tuple{Gh}, Tuple{T}, Tuple{AbstractResult, AbstractResult, Problem{T, Gh, Mp, R, OR, B}, Any}} where {T, Gh, Mp&lt;:AbstractMatProp, R, OR, B}"><code>HSSSimulations.Material.calcMatProps!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">calcMatProps!(
    pts::AbstractResult,
    cts::AbstractResult,
    prob::Problem{T, Gh, Mp&lt;:AbstractMatProp, R, OR, B},
    ind
)
</code></pre><p>The default material model, designed to be used with <a href="#HSSSimulations.Material.MatProp"><code>MatProp</code></a>, but should work with any <a href="#HSSSimulations.Types.AbstractMatProp"><code>Types.AbstractMatProp</code></a> that shares <a href="#HSSSimulations.Material.MatProp"><code>MatProp</code></a>&#39;s <code>ρ</code>, <code>c</code>, <code>κ</code> and <code>Mₘ</code> fields. </p><p>Updates melt and consolidation state, and then uses those to update the density, heat capacity and conductivity. These are then used to calculate the Fourier number for each axis for this time step.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/materialProps.jl#L126">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.meltUpdate" href="#HSSSimulations.Material.meltUpdate"><code>HSSSimulations.Material.meltUpdate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">meltUpdate(Mᵗ⁻¹, T, Mₘ, Δt, mp::AbstractMatProp) -&gt; Mᵗ, Mₘ, Δh</code></pre><p>Calculates the new melt state of a single node. It is given the melt state and temperature of the node in the previous time step, the maximum melt state the node has reached so far, the duration of the current time step and the material property struct.</p><p>It should return the new melt state for the node, the new maximum melt state, and the specific enthalpy change due to fusion or recrystalisation that is associated with the change in melt state.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/materialProps.jl#L171-L180">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.meltUpdate-Tuple{Any, Any, Any, Any, AbstractMatProp}" href="#HSSSimulations.Material.meltUpdate-Tuple{Any, Any, Any, Any, AbstractMatProp}"><code>HSSSimulations.Material.meltUpdate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">meltUpdate(
    Mᵗ⁻¹,
    T,
    Mₘ,
    _,
    mp::AbstractMatProp
) -&gt; Tuple{Any, Any, Any}
</code></pre><p>Updates the melt state of a node if the temperature of the node is in the melting or crystalisation termperature range if not the existing value is returned. This uses a basic time independent model that associates a single melt state to a given combination of temperature and maximum melt state reached so far.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/materialProps.jl#L183">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.consUpdate" href="#HSSSimulations.Material.consUpdate"><code>HSSSimulations.Material.consUpdate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">consUpdate(C, M, T, Δt, mp::AbstractMatProp) -&gt; C</code></pre><p>Calculates the new consolidation state of a single node. It is given the current consolidation state, melt state and temperature of the node, the duration of the current time step and the material property struct.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/materialProps.jl#L212-L218">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.consUpdate-Tuple{Any, Any, Any, Any, AbstractMatProp}" href="#HSSSimulations.Material.consUpdate-Tuple{Any, Any, Any, Any, AbstractMatProp}"><code>HSSSimulations.Material.consUpdate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">consUpdate(C, M, T, Δt, mp::AbstractMatProp) -&gt; Any
</code></pre><p>Updates the consolidation state of a node by adding the change in consolidation state (rate * time) to the previous consolidation state. Only applies if the material is melted and not already fully consolidated.</p><p>This finds the consolidation rate by calling <code>mp.Ċ</code> with <code>C</code>, <code>T</code> and <code>M</code> as arguments.</p><p>The returned values maximum is limited to 1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/materialProps.jl#L221">source</a></section></article><h2 id="Making-a-New-Material-Model"><a class="docs-heading-anchor" href="#Making-a-New-Material-Model">Making a New Material Model</a><a id="Making-a-New-Material-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Making-a-New-Material-Model" title="Permalink"></a></h2><p>If more customisation is needed, the entire <a href="#HSSSimulations.Material.calcMatProps!"><code>Material.calcMatProps!</code></a> function can be replaced. <a href="../../howtos/howto_matprop/#A-Basic-Material-Model">A Basic Material Model</a> gives an example of this.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Types.AbstractMatProp" href="#HSSSimulations.Types.AbstractMatProp"><code>HSSSimulations.Types.AbstractMatProp</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractMatProp &lt;: HSSSimulations.Types.AbstractSimProperty</code></pre><p>The abstract type that any material property struct needs to be a subtype of. These are for storing the values used to define the properties of a material, and those used to calculate the changes in material properties due to the build. The default struct used is <code>MatProp</code>, however new subtypes can be defined and used by defining a new <code>Material.calcMatProps!</code> function. This allows for the simplificiation (or complication) of the material model used in the simulation to fit your needs.</p><p>Any new subtype will need it&#39;s own method writen for <code>calcMatProps!</code> and if the example boundaries are being used some of them might need to be updated to use the new material properties. If melt state or consolidation state are beind removed from the material model then it might be worth implementing a new <a href="../res/#HSSSimulations.Types.AbstractResult"><code>AbstractResult</code></a> to save on memory. If an additional property that needs to be tracked is added to the material model then it will be necissary to implement a new subtype of those to track this.</p><p>See <a href="../../howtos/howto_matprop/#Material-Model-Recipes">Material Model Recipes</a> and <a href="../../tutorials/3_material_tut/#Tutorial-3:-A-Melt-Rate-Based-Material-Model">Tutorial 3: A Melt Rate Based Material Model</a> for more information on implementing your own.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Types/types.jl#L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HSSSimulations.Material.calcMatProps!" href="#HSSSimulations.Material.calcMatProps!"><code>HSSSimulations.Material.calcMatProps!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">calcMatProps!(::AbstractResult, ::AbstractResult, &lt;:Problem, ::Indices)</code></pre><p>Updates any of the material properties that change, along with the Fourier number for the current time step. New methods can be defined by dispatching on <code>Problem</code> with a different subtype of MatProp (for more information on this, see <a href="#HSSSimulations.Types.AbstractMatProp"><code>Types.AbstractMatProp</code></a>). The two main functions called by this one, <a href="#HSSSimulations.Material.meltUpdate"><code>meltUpdate</code></a> and <a href="#HSSSimulations.Material.consUpdate"><code>consUpdate</code></a>, are both also dispatched on the type of the material property struct, so they can be overwritten individually for a new material property struct if the new material model only needs to change some of the behaviour.</p><p><strong>Arguments</strong></p><ul><li><code>cts</code>: Current time step results</li><li><code>pts</code>: Previous time step results</li><li><code>ind</code>: The indicies to update</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Oliver-Leete/HSSSimulations.jl/blob/72f5151e663274c20e0ee088434f521984c24bc1/src/Material/materialProps.jl#L108-L123">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../res/">« Simulation Results</a><a class="docs-footer-nextpage" href="../boundary/">Boundary Model »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Thursday 16 November 2023 11:22">Thursday 16 November 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
